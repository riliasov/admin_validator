# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Service Account

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –°–µ—Ä–≤–∏—Å–Ω—ã–π –ê–∫–∫–∞—É–Ω—Ç Google –∏ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª –∫–ª—é—á–µ–π (`service_account.json`).

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/).
2. –ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞ (—Ä—è–¥–æ–º —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º Google Cloud) –∏ –Ω–∞–∂–º–∏—Ç–µ **"New Project"** (–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç).
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Planeta Checker`) –∏ –Ω–∞–∂–º–∏—Ç–µ **"Create"** (–°–æ–∑–¥–∞—Ç—å).
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç.

## –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Google Sheets API

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **"APIs & Services"** (API –∏ —Å–µ—Ä–≤–∏—Å—ã) -> **"Library"** (–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞).
2. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ `Google Sheets API`.
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É **Google Sheets API**.
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Enable"** (–í–∫–ª—é—á–∏—Ç—å).

## –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Service Account (–°–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞)

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **"APIs & Services"** -> **"Credentials"** (–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"+ CREATE CREDENTIALS"** (–°–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) –≤–≤–µ—Ä—Ö—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ **"Service account"**.
3. **Service account details**:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sheets-checker`).
   - –ù–∞–∂–º–∏—Ç–µ **"Create and Continue"**.
4. **Grant this service account access to project**:
   - –í –ø–æ–ª–µ "Select a role" –≤—ã–±–µ—Ä–∏—Ç–µ **"Basic"** -> **"Editor"** (–†–µ–¥–∞–∫—Ç–æ—Ä).
   - –ù–∞–∂–º–∏—Ç–µ **"Continue"**.
5. –ù–∞–∂–º–∏—Ç–µ **"Done"**.

## –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞ (JSON —Ñ–∞–π–ª–∞)

1. –í —Å–ø–∏—Å–∫–µ "Service Accounts" (–≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã Credentials) –Ω–∞–π–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç (–æ–Ω –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ email, –Ω–∞–ø—Ä–∏–º–µ—Ä `sheets-checker@planeta-checker.iam.gserviceaccount.com`).
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **–∫–∞—Ä–∞–Ω–¥–∞—à** (Edit) –∏–ª–∏ –Ω–∞ —Å–∞–º email –∞–∫–∫–∞—É–Ω—Ç–∞.
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Keys"** (–ö–ª—é—á–∏) –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏.
4. –ù–∞–∂–º–∏—Ç–µ **"ADD KEY"** -> **"Create new key"**.
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø **JSON** –∏ –Ω–∞–∂–º–∏—Ç–µ **"Create"**.
6. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä.

2. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**: –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `service_account.json` –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `secrets/` –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
   - `/Users/rambook/Developer/planeta/sales_quality_checker/secrets/`
   - *–ï—Å–ª–∏ –ø–∞–ø–∫–∏ `secrets` –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë.*

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–í–∞–∂–Ω–æ!)

–§–∞–π–ª –∫–ª—é—á–∞ (`service_account.json`) –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ –æ—Ç –∏–º–µ–Ω–∏ –±–æ—Ç–∞.

1.  **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.**
2.  **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.**
    - –ú—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ `.gitignore` —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –≤—Å—é –ø–∞–ø–∫—É `secrets/`.
    - **–õ—é–±–æ–π —Ñ–∞–π–ª**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–æ–ª–æ–∂–∏—Ç–µ –≤ –ø–∞–ø–∫—É `secrets/`, –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ Git. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∫–ª—é—á–µ–π —Å –ª—é–±—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.
3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–∏:**
    - –ï—Å–ª–∏ –≤–∞—à —Ñ–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ –∏–ª–∏ –ª–µ–∂–∏—Ç –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ, —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –≤ `.env`:
      ```
      SERVICE_ACCOUNT_FILE=secrets/my-custom-key-name.json
      ```

## –®–∞–≥ 6: –î–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `service_account.json` (–≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ) –∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ `"client_email"`.
   - –û–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `"client_email": "sheets-checker@planeta-checker.iam.gserviceaccount.com"`.
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç email.
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google –¢–∞–±–ª–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞"** (Share) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É.
4. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π email –≤ –ø–æ–ª–µ "–î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –≥—Ä—É–ø–ø—ã".
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–∞–∫ **"–†–µ–¥–∞–∫—Ç–æ—Ä"** (Editor).
6. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"** (Send).

–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ! üöÄ
